(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},16:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(4),c=n.n(r),s=(n(14),n(15),n(16),n(7)),u=n(2),l=n(5),i=(n(17),n(8));function m(e,t){return[Math.floor(Math.random()*e),Math.floor(Math.random()*t)]}function b(e){for(var t=e.rows,n=e.columns,a=e.bombs,o=function e(t){for(var n=[],a=0;a<t[0];++a)n.push(1===t.length?0:e(t.slice(1)));return n}([t,n]).map((function(e,t){return e.map((function(e,t){return{revealed:!1}}))})),r=a;r>0;){var c=m(t,n),s=Object(u.a)(c,2),l=s[0],b=s[1];o[l][b].isBomb||(o[l][b].isBomb=!0,r--)}return o.map((function(e,t){return e.map((function(e,n){if(e.isBomb)return e;var a=function(e,t,n){var a=0;return e[t-1]&&(e[t-1][n]&&e[t-1][n].isBomb&&a++,e[t-1][n-1]&&e[t-1][n-1].isBomb&&a++,e[t-1][n+1]&&e[t-1][n+1].isBomb&&a++),e[t+1]&&(e[t+1][n]&&e[t+1][n].isBomb&&a++,e[t+1][n-1]&&e[t+1][n-1].isBomb&&a++,e[t+1][n+1]&&e[t+1][n+1].isBomb&&a++),e[t][n-1]&&e[t][n-1].isBomb&&a++,e[t][n+1]&&e[t][n+1].isBomb&&a++,a}(o,t,n);return Object(i.a)({},e,{nearBombs:a})}))}))}function f(e,t,n,a,o){if(e[t+a]&&e[t+a][n+o]){if(0===e[t+a][n+o].nearBombs&&!1===e[t+a][n+o].revealed)return e[t+a][n+o].revealed=!0,v(e,t+a,n+o);e[t+a][n+o].isBomb||(e[t+a][n+o].revealed=!0)}return e}function v(e,t,n){return e=f(e,t,n,0,1),e=f(e,t,n,0,-1),e=f(e,t,n,-1,0),e=f(e,t,n,1,0),e=f(e,t,n,-1,1),e=f(e,t,n,1,1),e=f(e,t,n,-1,-1),e=f(e,t,n,1,-1)}function d(e){var t=e.rows,n=e.columns,r=e.bombs,c=e.resetClick,s=e.setGame,l=Object(a.useState)(t),i=Object(u.a)(l,2),m=i[0],b=i[1],f=Object(a.useState)(n),v=Object(u.a)(f,2),d=v[0],p=v[1],O=Object(a.useState)(r),h=Object(u.a)(O,2),E=h[0],B=h[1],g=function(e,t){"rows"===t?b(e.target.value):"cols"===t?p(e.target.value):"bombs"===t&&B(e.target.value)};return o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",null,o.a.createElement("div",null," Rows "),o.a.createElement("input",{type:"number",value:m,onChange:function(e){return g(e,"rows")}})),o.a.createElement("div",null,o.a.createElement("div",null," Columns "),o.a.createElement("input",{type:"number",value:d,onChange:function(e){return g(e,"cols")}})),o.a.createElement("div",null,o.a.createElement("div",null," Bombs "),o.a.createElement("input",{type:"number",value:E,onChange:function(e){return g(e,"bombs")}}))),o.a.createElement("div",{className:"btns"},o.a.createElement("button",{onClick:function(){return s(m,d,E)}},"Set Game"),o.a.createElement("button",{onClick:function(){return c()}},"Reset Board")))}var p=n(3),O=n.n(p);function h(e){var t=e.onClick,n=e.x,a=e.y,r=e.cell,c=e.lost,s=r.revealed,u=r.nearBombs,l=r.isBomb,i=O()("square",{revealed:s,bomb:l&c});return o.a.createElement("div",{className:i,onClick:function(){return t(n,a)}},s&&0!==u&&o.a.createElement("span",null,u))}function E(){var e=Object(a.useState)(10),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(25),i=Object(u.a)(c,2),m=i[0],f=i[1],p=Object(a.useState)(50),O=Object(u.a)(p,2),E=O[0],B=O[1],g=Object(a.useState)(b({rows:n,columns:m,bombs:E})),j=Object(u.a)(g,2),w=j[0],C=j[1],k=Object(a.useState)(!1),S=Object(u.a)(k,2),y=S[0],N=S[1],M=Object(a.useState)(!1),x=Object(u.a)(M,2),G=x[0],H=x[1],P=Object(a.useState)(!1),W=Object(u.a)(P,2),A=W[0],J=W[1],R=function(e,t){if(!y&&!G)if(w[e][t].isBomb)A?(l.b.error("BOOOM! You lost",{position:"top-center",autoClose:!0,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),H(!0)):(l.b.warn("Careful! That's a bomb! You have one more chance",{position:"top-center",autoClose:!0,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),J(!0));else{w[e][t].revealed=!0;var n;n=v(w,e,t),C(Object(s.a)(n)),console.log("bombs",E),function(e,t){var n=0;return e.forEach((function(e){e.forEach((function(e){e.revealed||n++}))})),n===t}(n,E)&&(N(!0),l.b.success("Congrats, you WON! Kudos",{position:"top-center",autoClose:!0,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}))}};return o.a.createElement("div",{className:"minefield"},o.a.createElement(d,{rows:n,bombs:E,columns:m,resetClick:function(){N(!1),H(!1),J(!1),C(b({rows:n,columns:m,bombs:E}))},setGame:function(e,t,n){N(!1),H(!1),J(!1),r(e),f(t),B(Number(n)),C(b({rows:e,columns:t,bombs:n}))}}),w.map((function(e,t){return o.a.createElement("div",{className:"row",key:t},e.map((function(e,n){return o.a.createElement(h,{key:"".concat(t).concat(n),x:t,y:n,cell:e,lost:G,onClick:R})})))})),o.a.createElement(l.a,null))}var B=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"}),o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(20)}},[[9,1,2]]]);
//# sourceMappingURL=main.e9e23f83.chunk.js.map